(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-59d78b0e"],{"14f1":function(t,a,i){"use strict";i.r(a);var e=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",[i("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}},[i("div",{staticClass:"loading-animated"},[i("div",{staticClass:"loading-animated-circle"},[i("div"),i("div"),i("div"),i("div"),i("div")])])]),i("div",{staticClass:"mt-5 mb-5"},[i("div",{staticClass:"container"},[i("div",{staticClass:"row justify-content-center"},[0===t.cartLen?i("div",{staticClass:"col mt-9"},[i("h2",{staticClass:"text-center text-primary font-weight-bolder"},[t._v(" 購物車內無商品 ")]),i("div",{staticClass:"text-center mt-5"},[i("a",{staticClass:"btn btn-primary font-weight-bolder",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.selectList("")}}},[i("i",{staticClass:"fas fa-angle-double-left"}),t._v(" 繼續選購 ")])])]):i("div",{staticClass:"col-md-10"},[i("h2",{staticClass:"text-primary font-weight-bolder"},[t._v(" 已選擇商品 ")]),t._l(t.carts.carts,(function(a){return i("div",{key:a.id,staticClass:"d-flex flex-column flex-md-row align-items-md-center mt-4 text-primary"},[i("div",{staticClass:"d-flex flex-grow-1"},[i("div",{staticClass:"cart-img bg-cover mr-3 flex-grow-1 flex-md-grow-0",style:{backgroundImage:"url("+a.product.imageUrl+")"}}),i("div",{staticClass:"d-flex flex-column flex-md-row align-items-md-center flex-md-grow-1"},[i("div",{staticClass:"mr-auto"},[i("h5",{staticClass:"font-weight-bolder"},[t._v(" "+t._s(a.product.title)+" ")]),i("span",[t._v("NT$ "+t._s(a.product.price)+"/"+t._s(a.product.unit))])]),i("div",{staticClass:"cart-form"},[i("button",{staticClass:"btn btn-light border-main-light btn-lg text-primary",attrs:{type:"button"},on:{click:function(i){return t.reduceToCart(a)}}},[t._v(" - ")]),i("input",{staticClass:"border-main-light cart-input",attrs:{type:"text",disabled:""},domProps:{value:a.qty}}),i("button",{staticClass:"btn btn-light border-main-light btn-lg text-primary",attrs:{type:"button"},on:{click:function(i){return t.addToCart(a)}}},[t._v(" + ")])])])]),i("div",{staticClass:"d-flex align-items-center cart-price ml-md-3 pt-3 mt-3 p-md-0 mt-md-0"},[i("button",{staticClass:"btn btn-danger btn-sm d-block d-md-none",attrs:{type:"button"},on:{click:function(i){return i.preventDefault(),t.deletCart(a.id)}}},[t._v(" 刪除 ")]),i("strong",{staticClass:"ml-auto"},[t._v("NT$ "+t._s(a.final_total))])]),i("a",{staticClass:"btn d-none d-md-block text-danger",attrs:{href:"#"},on:{click:function(i){return i.preventDefault(),t.deletCart(a.id)}}},[i("i",{staticClass:"fas fa-trash"})])])})),i("div",{staticClass:"d-flex mt-5 justify-content-end align-items-center border-top pt-3"},[i("span",{staticClass:"text-primary font-weight-bolder mr-3"},[t._v("總金額 : NT$ "+t._s(t.totalPrice))]),i("router-link",{staticClass:"btn btn-primary d-block font-weight-bolder",attrs:{to:"/order"}},[t._v(" 結帳去 ")])],1)],2)]),i("h2",{staticClass:"mt-5 text-primary font-weight-bolder"},[t._v(" 商品導覽 ")]),i("div",{staticClass:"row mt-3"},[i("div",{staticClass:"col-md-4"},[i("div",{staticClass:"product-card mb-4 mb-md-0"},[i("a",{attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.selectList("")}}},[t._m(0)])])]),i("div",{staticClass:"col-md-4"},[i("div",{staticClass:"product-card mb-4 mb-md-0"},[i("a",{attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.selectList("床墊")}}},[t._m(1)])])]),i("div",{staticClass:"col-md-4"},[i("div",{staticClass:"product-card mb-4 mb-md-0"},[i("a",{attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.selectList("枕頭")}}},[t._m(2)])])])])])])],1)},s=[function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"product-intro product-img-1"},[i("div",{staticClass:"product-intro-filter d-flex justify-content-center\n                  h-100 align-items-center"},[t._v(" 全部寢具 ")])])},function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"product-intro product-img-2"},[i("div",{staticClass:"product-intro-filter d-flex justify-content-center\n                  h-100 align-items-center"},[t._v(" 床墊 ")])])},function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"product-intro product-img-3"},[i("div",{staticClass:"product-intro-filter d-flex justify-content-center\n                  h-100 align-items-center"},[t._v(" 枕頭 ")])])}],c=(i("99af"),i("a9e3"),{data:function(){return{isLoading:!1,carts:[],cartLen:"",totalPrice:0}},computed:{},created:function(){this.getCart()},methods:{getCart:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io/","api/").concat("q821011","/cart");t.isLoading=!0,t.$http.get(a).then((function(a){t.carts=a.data.data,t.cartLen=a.data.data.carts.length,t.totalPrice=a.data.data.final_total,t.isLoading=!1}))},deletCart:function(t){var a=this,i="".concat("https://vue-course-api.hexschool.io/","api/").concat("q821011","/cart/").concat(t);a.$http.delete(i).then((function(){a.getCart()}))},addToCart:function(t){var a=this,i="".concat("https://vue-course-api.hexschool.io/","api/").concat("q821011","/cart");a.deletCart(t.id),a.isLoading=!0,a.$http.post(i,{data:{product_id:"".concat(t.product.id),qty:"".concat(Number(t.qty)+1)}}).then((function(){a.isLoading=!1,a.getCart()}))},reduceToCart:function(t){var a=this,i="".concat("https://vue-course-api.hexschool.io/","api/").concat("q821011","/cart");a.deletCart(t.id),Number(t.qty)<=1||(a.isLoading=!0,a.$http.post(i,{data:{product_id:"".concat(t.product.id),qty:"".concat(Number(t.qty)-1)}}).then((function(){a.isLoading=!1,a.getCart()})))},selectList:function(t){this.$router.push({name:"Production",params:{list:t}})}}}),n=c,r=(i("74aa"),i("2877")),o=Object(r["a"])(n,e,s,!1,null,null,null);a["default"]=o.exports},"74aa":function(t,a,i){"use strict";i("97a3")},"97a3":function(t,a,i){}}]);
//# sourceMappingURL=chunk-59d78b0e.00be813e.js.map