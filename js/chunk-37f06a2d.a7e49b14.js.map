{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.array.splice.js","webpack:///./src/views/Frontwork/Production.vue?fdbb","webpack:///src/views/Frontwork/Production.vue","webpack:///./src/views/Frontwork/Production.vue?94e9","webpack:///./src/views/Frontwork/Production.vue","webpack:///./src/views/Frontwork/Production.vue?7a59","webpack:///./node_modules/core-js/modules/es.array.index-of.js"],"names":["$","toAbsoluteIndex","toInteger","toLength","toObject","arraySpeciesCreate","createProperty","arrayMethodHasSpeciesSupport","arrayMethodUsesToLength","HAS_SPECIES_SUPPORT","USES_TO_LENGTH","ACCESSORS","0","1","max","Math","min","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_LENGTH_EXCEEDED","target","proto","forced","splice","start","deleteCount","insertCount","actualDeleteCount","A","k","from","to","O","this","len","length","actualStart","argumentsLength","arguments","TypeError","render","_vm","_h","$createElement","_c","_self","attrs","isLoading","on","$event","staticClass","sectionActive","class","_e","_v","active","preventDefault","_s","allProductsNum","listNum","_l","item","key","id","path","style","backgroundImage","height","title","price","setAttention","attentionStar","addToCart","status","loadingItem","staticRenderFns","data","products","carts","attentionArr","JSON","parse","localStorage","getItem","computed","productFilter","forEach","i","arr","filter","created","getProduction","getCart","$route","params","list","methods","vm","$http","get","api","then","res","$set","index","push","$bus","$emit","setItem","stringify","e","product","num","filterProduct","component","$indexOf","indexOf","arrayMethodIsStrict","nativeIndexOf","NEGATIVE_ZERO","STRICT_METHOD","searchElement","apply","undefined"],"mappings":"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","file":"js/chunk-37f06a2d.a7e49b14.js","sourcesContent":["'use strict';\nvar $ = require('../internals/export');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toInteger = require('../internals/to-integer');\nvar toLength = require('../internals/to-length');\nvar toObject = require('../internals/to-object');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar createProperty = require('../internals/create-property');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('splice');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('splice', { ACCESSORS: true, 0: 0, 1: 2 });\n\nvar max = Math.max;\nvar min = Math.min;\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_LENGTH_EXCEEDED = 'Maximum allowed length exceeded';\n\n// `Array.prototype.splice` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.splice\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  splice: function splice(start, deleteCount /* , ...items */) {\n    var O = toObject(this);\n    var len = toLength(O.length);\n    var actualStart = toAbsoluteIndex(start, len);\n    var argumentsLength = arguments.length;\n    var insertCount, actualDeleteCount, A, k, from, to;\n    if (argumentsLength === 0) {\n      insertCount = actualDeleteCount = 0;\n    } else if (argumentsLength === 1) {\n      insertCount = 0;\n      actualDeleteCount = len - actualStart;\n    } else {\n      insertCount = argumentsLength - 2;\n      actualDeleteCount = min(max(toInteger(deleteCount), 0), len - actualStart);\n    }\n    if (len + insertCount - actualDeleteCount > MAX_SAFE_INTEGER) {\n      throw TypeError(MAXIMUM_ALLOWED_LENGTH_EXCEEDED);\n    }\n    A = arraySpeciesCreate(O, actualDeleteCount);\n    for (k = 0; k < actualDeleteCount; k++) {\n      from = actualStart + k;\n      if (from in O) createProperty(A, k, O[from]);\n    }\n    A.length = actualDeleteCount;\n    if (insertCount < actualDeleteCount) {\n      for (k = actualStart; k < len - actualDeleteCount; k++) {\n        from = k + actualDeleteCount;\n        to = k + insertCount;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n      for (k = len; k > len - actualDeleteCount + insertCount; k--) delete O[k - 1];\n    } else if (insertCount > actualDeleteCount) {\n      for (k = len - actualDeleteCount; k > actualStart; k--) {\n        from = k + actualDeleteCount - 1;\n        to = k + insertCount - 1;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n    }\n    for (k = 0; k < insertCount; k++) {\n      O[k + actualStart] = arguments[k + 2];\n    }\n    O.length = len - actualDeleteCount + insertCount;\n    return A;\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('loading',{attrs:{\"active\":_vm.isLoading},on:{\"update:active\":function($event){_vm.isLoading=$event}}},[_c('div',{staticClass:\"loading-animated\"},[_c('div',{staticClass:\"loading-animated-circle\"},[_c('div'),_c('div'),_c('div'),_c('div'),_c('div')])])]),_c('header',{staticClass:\"container px-0 px-md-3 mt-sm-5\"},[(_vm.sectionActive === '')?_c('div',{staticClass:\"bg-cover header-img header-img-1\",class:{'fadeIn':_vm.sectionActive === ''}}):_vm._e(),(_vm.sectionActive === '床墊')?_c('div',{staticClass:\"bg-cover header-img header-img-2\",class:{'fadeIn':_vm.sectionActive === '床墊'}}):_vm._e(),(_vm.sectionActive === '枕頭')?_c('div',{staticClass:\"bg-cover header-img header-img-3\",class:{'fadeIn':_vm.sectionActive === '枕頭'}}):_vm._e()]),_c('section',{staticClass:\"container mb-5 mt-md-4 mt-4\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-3\"},[_c('div',{staticClass:\"mt-4 list\"},[_c('h5',{staticClass:\"bg-primary text-white m-0 py-3 h3 text-center\"},[_vm._v(\" 商品列表 \")]),_c('div',{staticClass:\"production-list bg-white\"},[_c('div',{staticClass:\"list-group font-24 text-center\"},[_c('a',{staticClass:\"list-group-item list-group-item-action\",class:{ active: _vm.sectionActive == '' },attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();_vm.sectionActive = ''}}},[_vm._v(\" 所有寢具 \"+_vm._s((\"(\" + _vm.allProductsNum + \")\"))+\" \")]),_c('a',{staticClass:\"list-group-item list-group-item-action list-group-item-action\",class:{ active: _vm.sectionActive == '床墊' },attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();_vm.sectionActive = '床墊'}}},[_vm._v(\" 精選床墊 \"+_vm._s((_vm.listNum('床墊'))))]),_c('a',{staticClass:\"list-group-item list-group-item-action\",class:{ active: _vm.sectionActive == '枕頭' },attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();_vm.sectionActive = '枕頭'}}},[_vm._v(\"舒眠枕頭 \"+_vm._s((_vm.listNum('枕頭'))))])])])])]),_c('div',{staticClass:\"col-md-9\"},[_c('div',{staticClass:\"row\"},_vm._l((_vm.productFilter),function(item){return _c('div',{key:item.id,staticClass:\"col-md-6 col-lg-4\"},[_c('div',{staticClass:\"tool-card mt-4\"},[_c('router-link',{attrs:{\"to\":{ path: (\"product_detail/\" + (item.id)) }}},[_c('div',{staticClass:\"bg-cover\",style:({\n                    backgroundImage: (\"url(\" + (item.imageUrl) + \")\"),\n                    height: \"315px\",\n                  })},[_c('div',{staticClass:\"production-img d-flex justify-content-center h-100 align-items-center\"},[_vm._v(\" 商品資訊 \")])])]),_c('div',{staticClass:\"d-flex flex-column text-center text-primary tool-card-item\"},[_c('span',{staticClass:\"h5 py-3 m-0\"},[_vm._v(_vm._s(item.title))]),_c('strong',{staticClass:\"h5 pb-3 m-0\"},[_vm._v(\"NT$ \"+_vm._s(item.price))])]),_c('div',{staticClass:\"d-flex align-items-center\"},[_c('a',{staticClass:\"btn btn-primary btn-lg border-0 w-25\",attrs:{\"href\":\"#\",\"title\":\"關注\"},on:{\"click\":function($event){$event.preventDefault();return _vm.setAttention(item)}}},[_c('i',{staticClass:\"fas fa-star\",class:{ 'text-warning': item.attentionStar }})]),_c('a',{staticClass:\"btn btn-main-light btn-lg border-0 text-primary w-75 font-weight-bolder\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.addToCart(item)}}},[(_vm.status.loadingItem === item.id)?_c('i',{staticClass:\"fas fa-spinner fa-spin\"}):_vm._e(),_vm._v(\" 加入購物車\")])])],1)])}),0)])])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <loading :active.sync=\"isLoading\">\n      <div class=\"loading-animated\">\n        <div class=\"loading-animated-circle\">\n          <div />\n          <div />\n          <div />\n          <div />\n          <div />\n        </div>\n      </div>\n    </loading>\n    <header class=\"container px-0 px-md-3 mt-sm-5\">\n      <div\n        v-if=\"sectionActive === ''\"\n        class=\"bg-cover header-img header-img-1\"\n        :class=\"{'fadeIn':sectionActive === ''}\"\n      />\n      <div\n        v-if=\"sectionActive === '床墊'\"\n        class=\"bg-cover header-img header-img-2\"\n        :class=\"{'fadeIn':sectionActive === '床墊'}\"\n      />\n      <div\n        v-if=\"sectionActive === '枕頭'\"\n        class=\"bg-cover header-img header-img-3\"\n        :class=\"{'fadeIn':sectionActive === '枕頭'}\"\n      />\n    </header>\n\n    <section class=\"container mb-5 mt-md-4 mt-4\">\n      <div class=\"row\">\n        <div class=\"col-md-3\">\n          <div class=\"mt-4 list\">\n            <h5 class=\"bg-primary text-white m-0 py-3 h3 text-center\">\n              商品列表\n            </h5>\n            <div class=\"production-list bg-white\">\n              <div class=\"list-group font-24 text-center\">\n                <a\n                  href=\"#\"\n                  class=\"list-group-item list-group-item-action\"\n                  :class=\"{ active: sectionActive == '' }\"\n                  @click.prevent=\"sectionActive = ''\"\n                >\n                  所有寢具 {{ `(${allProductsNum})` }}\n                </a>\n                <a\n                  href=\"#\"\n                  class=\"list-group-item list-group-item-action list-group-item-action\"\n                  :class=\"{ active: sectionActive == '床墊' }\"\n                  @click.prevent=\"sectionActive = '床墊'\"\n                >\n                  精選床墊 {{ (listNum('床墊')) }}</a>\n                <a\n                  href=\"#\"\n                  class=\"list-group-item list-group-item-action\"\n                  :class=\"{ active: sectionActive == '枕頭' }\"\n                  @click.prevent=\"sectionActive = '枕頭'\"\n                >舒眠枕頭 {{ (listNum('枕頭')) }}</a>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"col-md-9\">\n          <div class=\"row\">\n            <div\n              v-for=\"item in productFilter\"\n              :key=\"item.id\"\n              class=\"col-md-6 col-lg-4\"\n            >\n              <div class=\"tool-card mt-4\">\n                <router-link :to=\"{ path: `product_detail/${item.id}` }\">\n                  <div\n                    class=\"bg-cover\"\n                    :style=\"{\n                      backgroundImage: `url(${item.imageUrl})`,\n                      height: `315px`,\n                    }\"\n                  >\n                    <div\n                      class=\"production-img d-flex justify-content-center h-100 align-items-center\"\n                    >\n                      商品資訊\n                    </div>\n                  </div>\n                </router-link>\n                <div\n                  class=\"d-flex flex-column text-center text-primary tool-card-item\"\n                >\n                  <span class=\"h5 py-3 m-0\">{{ item.title }}</span>\n                  <strong class=\"h5 pb-3 m-0\">NT$ {{ item.price }}</strong>\n                </div>\n                <div class=\"d-flex align-items-center\">\n                  <a\n                    href=\"#\"\n                    class=\"btn btn-primary btn-lg border-0 w-25\"\n                    title=\"關注\"\n                    @click.prevent=\"setAttention(item)\"\n                  >\n                    <i\n                      class=\"fas fa-star\"\n                      :class=\"{ 'text-warning': item.attentionStar }\"\n                    />\n                  </a>\n                  <a\n                    href=\"#\"\n                    class=\"btn btn-main-light btn-lg border-0 text-primary w-75 font-weight-bolder\"\n                    @click.prevent=\"addToCart(item)\"\n                  >\n                    <i\n                      v-if=\"status.loadingItem === item.id\"\n                      class=\"fas fa-spinner fa-spin\"\n                    />\n                    加入購物車</a>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </section>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      products: [],\n      carts: [],\n      status: {\n        loadingItem: '',\n      },\n      allProductsNum: 0,\n      sectionActive: '',\n      isLoading: false,\n      attentionArr: JSON.parse(localStorage.getItem('attention')) || [],\n    };\n  },\n  computed: {\n    productFilter() {\n      this.products.forEach((item) => {\n        const arr = item;\n        this.attentionArr.forEach((i) => {\n          if (item.id === i) {\n            arr.attentionStar = true;\n          }\n        });\n      });\n\n      if (this.sectionActive === '') {\n        return this.products;\n      }\n      return this.products.filter((item) => item.category === this.sectionActive);\n    },\n  },\n  created() {\n    this.getProduction();\n    this.getCart();\n    this.sectionActive = this.$route.params.list || '';\n  },\n  methods: {\n    getProduction() {\n      const vm = this;\n      const api = `${process.env.VUE_APP_APIPATH}api/${process.env.VUE_APP_CUSTOMPATH}/products/all`;\n      vm.isLoading = true;\n      vm.$http.get(api).then((res) => {\n        vm.products = res.data.products;\n        vm.products.forEach((item) => {\n          vm.$set(item, 'attentionStar', false);\n        });\n        vm.allProductsNum = res.data.products.length;\n        vm.isLoading = false;\n      });\n    },\n    setAttention(item) {\n      const vm = this;\n      const arr = item;\n      const index = vm.attentionArr.indexOf(item.id);\n      if (index === -1) {\n        arr.attentionStar = true;\n        vm.attentionArr.push(item.id);\n        vm.$bus.$emit('message:push', '已加入關注', 'success');\n      } else {\n        arr.attentionStar = false;\n        vm.attentionArr.splice(index, 1);\n        vm.$bus.$emit('message:push', '已取消關注', 'danger');\n      }\n      localStorage.setItem('attention', JSON.stringify(this.attentionArr));\n    },\n    getCart() {\n      const vm = this;\n      const api = `${process.env.VUE_APP_APIPATH}api/${process.env.VUE_APP_CUSTOMPATH}/cart`;\n      vm.$http.get(api).then((res) => {\n        vm.carts = res.data.data;\n      });\n    },\n    addToCart(item) {\n      const vm = this;\n      let num = 0;\n      vm.carts.carts.forEach((e) => {\n        if (e.product.id === item.id) {\n          num += 1;\n        }\n      });\n      if (num >= 1) {\n        vm.$bus.$emit('message:push', '購物車已有相同商品', 'danger');\n        return;\n      }\n      vm.status.loadingItem = item.id;\n      const api = `${process.env.VUE_APP_APIPATH}api/${process.env.VUE_APP_CUSTOMPATH}/cart`;\n      vm.$http\n        .post(api, { data: { product_id: `${item.id}`, qty: 1 } })\n        .then(() => {\n          vm.getCart();\n          vm.status.loadingItem = '';\n          vm.$bus.$emit('message:push', '成功加入購物車', 'success');\n        });\n    },\n    listNum(category) {\n      let filterProduct = [];\n      filterProduct = this.products.filter((item) => item.category === category);\n      return `(${filterProduct.length})`;\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.list {\n  position: sticky;\n  top: 100px;\n}\n.header-img {\n  height: 496px;\n  @media (max-width:576px){\n    height: 315px;\n  }\n}\n.header-img-1 {\n  background-image: url(../../assets/images/bg_5.jpg);\n}\n.header-img-2 {\n  background-image: url(../../assets/images/bg_6.jpg);\n}\n.header-img-3 {\n  background-image: url(../../assets/images/bg_7.jpg);\n}\n.fadeIn {\n  opacity: 1;\n  animation: fadeIn-active 1s;\n}\n@keyframes fadeIn-active {\n  0% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Production.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Production.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Production.vue?vue&type=template&id=4bd57f58&scoped=true&\"\nimport script from \"./Production.vue?vue&type=script&lang=js&\"\nexport * from \"./Production.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Production.vue?vue&type=style&index=0&id=4bd57f58&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4bd57f58\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Production.vue?vue&type=style&index=0&id=4bd57f58&lang=scss&scoped=true&\"","'use strict';\nvar $ = require('../internals/export');\nvar $indexOf = require('../internals/array-includes').indexOf;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar nativeIndexOf = [].indexOf;\n\nvar NEGATIVE_ZERO = !!nativeIndexOf && 1 / [1].indexOf(1, -0) < 0;\nvar STRICT_METHOD = arrayMethodIsStrict('indexOf');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('indexOf', { ACCESSORS: true, 1: 0 });\n\n// `Array.prototype.indexOf` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.indexof\n$({ target: 'Array', proto: true, forced: NEGATIVE_ZERO || !STRICT_METHOD || !USES_TO_LENGTH }, {\n  indexOf: function indexOf(searchElement /* , fromIndex = 0 */) {\n    return NEGATIVE_ZERO\n      // convert -0 to +0\n      ? nativeIndexOf.apply(this, arguments) || 0\n      : $indexOf(this, searchElement, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n"],"sourceRoot":""}